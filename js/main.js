// Language translations
const translations = {
    es: {
        nav: {
            inicio: 'Inicio',
            sobreMi: 'Sobre MÃ­',
            especialidades: 'Especialidades',
            proyectos: 'Proyectos',
            contacto: 'Contacto'
        },
        hero: {
            greeting: 'Â¡Saludos! ðŸ‘‹ Soy Anthony, un apasionado Ingeniero de Sistemas especializado en programaciÃ³n y calidad de software. Con mÃ¡s de 6 aÃ±os de experiencia en automatizaciÃ³n de pruebas y desarrollo de software, ofrezco una combinaciÃ³n Ãºnica de habilidades que mejora tanto la eficiencia como la calidad en proyectos tecnolÃ³gicos.',
            title: 'Quality Engineering Leader & Java Educator',
            subtitle: 'Construyendo software confiable a travÃ©s de calidad, liderazgo y enseÃ±anza. Lidero equipos multidisciplinarios de QA y desarrollo, automatizo procesos de testing y formo la prÃ³xima generaciÃ³n de desarrolladores Java con experiencia real de la industria.',
            cta: {
                primary: 'Trabajemos Juntos',
                secondary: 'Ver LinkedIn'
            }
        },
        sections: {
            about: {
                title: 'Sobre MÃ­',
                learning: {
                    title: 'Aprendizaje Continuo y Contribuciones',
                    content: 'Busco activamente nuevas tecnologÃ­as y metodologÃ­as para mantenerme actualizado en un campo en constante evoluciÃ³n. Contribuyo a proyectos de cÃ³digo abierto, aplicando consistentemente las habilidades aprendidas a escenarios prÃ¡cticos.'
                },
                interests: {
                    title: 'Intereses Personales',
                    content: 'Fuera de la vida profesional, encuentro alegrÃ­a en la lectura, la exploraciÃ³n de videojuegos y el arte visual, lo que me mantiene equilibrado y creativamente inspirado.'
                }
            },
            expertise: {
                title: 'Especialidades',
                cards: {
                    qa: {
                        title: 'Expertise en QA Automation',
                        content: 'Desarrollo de frameworks de automatizaciÃ³n completos utilizando herramientas como Cypress y Selenium, reduciendo el tiempo de testing en un 30% en mÃºltiples proyectos.',
                        details: [
                            'Incremento de 60% en cobertura de pruebas automatizadas',
                            'ReducciÃ³n del 30% en bugs mediante testing estratÃ©gico',
                            'ImplementaciÃ³n de CI/CD con Jenkins'
                        ]
                    },
                    dev: {
                        title: 'Desarrollo de Software',
                        content: 'Experiencia en desarrollo full-stack con enfoque en calidad y mejores prÃ¡cticas. Especializado en arquitecturas escalables y microservicios con tecnologÃ­as modernas.',
                        details: [
                            'Desarrollo de APIs y microservicios',
                            'OptimizaciÃ³n de bases de datos SQL',
                            'ImplementaciÃ³n de arquitecturas escalables'
                        ]
                    },
                    security: {
                        title: 'Ciberseguridad & DevSecOps',
                        content: 'Rol clave en mejorar la seguridad de bases de datos de clientes usando SIEM y Firewalls, alineado con ISO27001 y estÃ¡ndares NIST.',
                        details: [
                            'Certificaciones NSE 1 y 2 en Network Security',
                            'ImplementaciÃ³n de medidas de seguridad SIEM',
                            'ReducciÃ³n del 80% en vulnerabilidades'
                        ]
                    },
                    education: {
                        title: 'EducaciÃ³n y MentorÃ­a',
                        content: 'Profesor universitario y mentor tÃ©cnico especializado en Java y metodologÃ­as Ã¡giles. Comprometido con formar la prÃ³xima generaciÃ³n de desarrolladores.',
                        details: [
                            'MÃ¡ster en Inteligencia Artificial',
                            'Facilitador de formaciÃ³n profesional',
                            'Certificado C1 Advanced en inglÃ©s'
                        ]
                    }
                }
            },
            projects: {
                title: 'Algunos proyectos realizados',
                agroSoftWeb: {
                    title: 'AgroSoftWeb',
                    subtitle: 'Sistema de GestiÃ³n AgrÃ­cola',
                    description: 'AplicaciÃ³n web para la gestiÃ³n y control de procesos agrÃ­colas, incluyendo inventario, ventas y reportes.'
                },
                agroSoftDesktop: {
                    title: 'AgroSoft-Escritorio',
                    subtitle: 'VersiÃ³n de Escritorio',
                    description: 'VersiÃ³n desktop del sistema de gestiÃ³n agrÃ­cola con funcionalidades offline y sincronizaciÃ³n.'
                }
            },
            contact: {
                title: 'Conectemos',
                subtitle: 'Â¿Interesado en colaborar o conocer mÃ¡s sobre mi trabajo?',
                callToAction: 'Â¡EncuÃ©ntrame en mis redes sociales!'
            },
            stats: {
                experience: 'AÃ±os de Experiencia',
                testCoverage: 'â†‘ Cobertura de Tests',
                bugReduction: 'â†“ Bugs en ProducciÃ³n',
                qaEfficiency: 'â†‘ Eficiencia en QA'
            }
        },
        toast: {
            language: 'Idioma cambiado a: EspaÃ±ol'
        },
        footer: {
            company: 'EnygmaLabs',
            rights: 'Todos los derechos reservados.'
        }
    },
    en: {
        nav: {
            inicio: 'Home',
            sobreMi: 'About Me',
            especialidades: 'Expertise',
            proyectos: 'Projects',
            contacto: 'Contact'
        },
        hero: {
            greeting: 'Greetings! ðŸ‘‹ I\'m Anthony, a passionate Systems Engineer specializing in programming and software quality. With over 6 years of experience in test automation and software development, I offer a unique blend of skills that enhances both efficiency and quality in technology projects.',
            title: 'Quality Engineering Leader & Java Educator',
            subtitle: 'Building reliable software through quality, leadership, and education. I lead multidisciplinary QA and development teams, automate testing processes, and train the next generation of Java developers with real industry experience.',
            cta: {
                primary: "Let's Work Together",
                secondary: 'View LinkedIn'
            }
        },
        sections: {
            about: {
                title: 'About Me',
                learning: {
                    title: 'Continuous Learning and Contributions',
                    content: 'I actively seek new technologies and methodologies to stay current in an ever-evolving field. I contribute to open source projects, consistently applying learned skills to practical scenarios.'
                },
                interests: {
                    title: 'Personal Interests',
                    content: 'Outside of professional life, I find joy in reading, exploring video games, and visual arts, which keep me balanced and creatively inspired.'
                }
            },
            expertise: {
                title: 'Areas of Expertise',
                cards: {
                    qa: {
                        title: 'QA Automation Expertise',
                        content: 'Development of comprehensive automation frameworks using tools like Cypress and Selenium, reducing testing time by 30% across multiple projects.',
                        details: [
                            '60% increase in automated test coverage',
                            '30% reduction in bugs through strategic testing',
                            'CI/CD implementation with Jenkins'
                        ]
                    },
                    dev: {
                        title: 'Software Development',
                        content: 'Full-stack development experience with a focus on quality and best practices. Specialized in scalable architectures and microservices with modern technologies.',
                        details: [
                            'API and microservices development',
                            'SQL database optimization',
                            'Implementation of scalable architectures'
                        ]
                    },
                    security: {
                        title: 'Cybersecurity & DevSecOps',
                        content: 'Key role in enhancing client database security using SIEM and Firewalls, aligned with ISO27001 and NIST standards.',
                        details: [
                            'NSE 1 & 2 Network Security Certifications',
                            'SIEM security measures implementation',
                            '80% reduction in vulnerabilities'
                        ]
                    },
                    education: {
                        title: 'Education & Mentoring',
                        content: 'University professor and technical mentor specialized in Java and agile methodologies. Committed to shaping the next generation of developers.',
                        details: [
                            'Master\'s in Artificial Intelligence',
                            'Professional training facilitator',
                            'C1 Advanced English certification'
                        ]
                    }
                }
            },
            projects: {
                title: 'Featured Projects',
                agroSoftWeb: {
                    title: 'AgroSoftWeb',
                    subtitle: 'Agricultural Management System',
                    description: 'Web application for managing and controlling agricultural processes, including inventory, sales, and reporting.'
                },
                agroSoftDesktop: {
                    title: 'AgroSoft-Desktop',
                    subtitle: 'Desktop Version',
                    description: 'Desktop version of the agricultural management system with offline capabilities and synchronization.'
                }
            },
            contact: {
                title: "Let's Connect",
                subtitle: 'Interested in collaborating or learning more about my work?',
                callToAction: 'Find me on social media!'
            },
            stats: {
                experience: 'Years of Experience',
                testCoverage: 'â†‘ Test Coverage',
                bugReduction: 'â†“ Production Bugs',
                qaEfficiency: 'â†‘ QA Efficiency'
            }
        },
        toast: {
            language: 'Language changed to: English'
        },
        footer: {
            company: 'EnygmaLabs',
            rights: 'All rights reserved.'
        }
    }
};

// Language switcher functionality
document.addEventListener('DOMContentLoaded', () => {
    const langSwitch = document.querySelector('.lang-switch');
    if (!langSwitch) {
        console.error('No se encontrÃ³ el selector de idioma');
        return;
    }

    const options = langSwitch.querySelectorAll('.lang-option');
    options.forEach(option => {
        option.addEventListener('click', () => {
            const lang = option.dataset.lang;
            
            // Update active state
            options.forEach(opt => opt.classList.remove('active'));
            option.classList.add('active');
            
            // Change language
            changeLanguage(lang);
            
            // Show toast notification
            showToast(translations[lang].toast.language);
        });
    });

    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        });
    });
});

function showToast(message) {
    const toast = document.getElementById('langToast');
    toast.querySelector('span').innerHTML = message;
    toast.classList.add('show');
    
    setTimeout(() => {
        toast.classList.remove('show');
    }, 3000);
}

function changeLanguage(lang) {
    try {
        document.documentElement.lang = lang;
        const t = translations[lang];

        // Update navigation
        document.querySelectorAll('.nav-link').forEach((link, index) => {
            const keys = ['inicio', 'sobreMi', 'especialidades', 'proyectos', 'contacto'];
            link.textContent = t.nav[keys[index]];
        });

        // Update hero section
        const heroGreeting = document.querySelector('.hero .subtitle');
        const heroTitle = document.querySelector('.hero .lead');
        const heroSubtitle = document.querySelector('.hero .subtitle');
        const primaryBtn = document.querySelector('.btn-primary');
        const secondaryBtn = document.querySelector('.btn-secondary');

        if (heroGreeting) heroGreeting.textContent = t.hero.greeting;
        if (heroTitle) heroTitle.textContent = t.hero.title;
        if (heroSubtitle) heroSubtitle.textContent = t.hero.subtitle;
        if (primaryBtn) primaryBtn.innerHTML = `<i class="fas fa-handshake"></i>${t.hero.cta.primary}`;
        if (secondaryBtn) secondaryBtn.innerHTML = `<i class="fab fa-linkedin"></i>${t.hero.cta.secondary}`;

        // Update about section
        const aboutTitle = document.querySelector('#sobre-mi .section-title');
        const aboutLearningTitle = document.querySelector('#sobre-mi .about-section-title:nth-of-type(1)');
        const aboutLearningContent = document.querySelector('#sobre-mi .about-text:nth-of-type(2)');
        const aboutInterestsTitle = document.querySelector('#sobre-mi .about-section-title:nth-of-type(2)');
        const aboutInterestsContent = document.querySelector('#sobre-mi .about-text:nth-of-type(4)');

        if (aboutTitle) aboutTitle.textContent = t.sections.about.title;
        if (aboutLearningTitle) aboutLearningTitle.textContent = t.sections.about.learning.title;
        if (aboutLearningContent) aboutLearningContent.textContent = t.sections.about.learning.content;
        if (aboutInterestsTitle) aboutInterestsTitle.textContent = t.sections.about.interests.title;
        if (aboutInterestsContent) aboutInterestsContent.textContent = t.sections.about.interests.content;

        // Update expertise section
        const expertiseTitle = document.querySelector('#especialidades .section-title');
        if (expertiseTitle) expertiseTitle.textContent = t.sections.expertise.title;

        // Update expertise cards
        const expertiseCards = document.querySelectorAll('.expertise-card');
        const expertiseTypes = ['qa', 'dev', 'security', 'education'];

        expertiseCards.forEach((card, index) => {
            const type = expertiseTypes[index];
            if (!type) return;

            // Update card title
            const cardTitle = card.querySelector('h3');
            if (cardTitle) {
                cardTitle.textContent = t.sections.expertise.cards[type].title;
            }

            // Update card description
            const cardDesc = card.querySelector('p');
            if (cardDesc) {
                cardDesc.textContent = t.sections.expertise.cards[type].content;
            }

            // Update expertise details/checks
            const checks = card.querySelectorAll('.expertise-check span');
            if (checks && t.sections.expertise.cards[type].details) {
                checks.forEach((check, checkIndex) => {
                    if (t.sections.expertise.cards[type].details[checkIndex]) {
                        check.textContent = t.sections.expertise.cards[type].details[checkIndex];
                    }
                });
            }
        });

        // Update projects section
        const projectsTitle = document.querySelector('#proyectos .section-title');
        if (projectsTitle) projectsTitle.textContent = t.sections.projects.title;

        // AgroSoftWeb Project
        const agroSoftWebTitle = document.querySelector('#proyectos .proyecto:nth-child(1) h4');
        const agroSoftWebSubtitle = document.querySelector('#proyectos .proyecto:nth-child(1) h5');
        const agroSoftWebDesc = document.querySelector('#proyectos .proyecto:nth-child(1) p');

        if (agroSoftWebTitle) agroSoftWebTitle.textContent = t.sections.projects.agroSoftWeb.title;
        if (agroSoftWebSubtitle) agroSoftWebSubtitle.textContent = t.sections.projects.agroSoftWeb.subtitle;
        if (agroSoftWebDesc) agroSoftWebDesc.textContent = t.sections.projects.agroSoftWeb.description;

        // AgroSoftDesktop Project
        const agroSoftDesktopTitle = document.querySelector('#proyectos .proyecto:nth-child(2) h4');
        const agroSoftDesktopSubtitle = document.querySelector('#proyectos .proyecto:nth-child(2) h5');
        const agroSoftDesktopDesc = document.querySelector('#proyectos .proyecto:nth-child(2) p');

        if (agroSoftDesktopTitle) agroSoftDesktopTitle.textContent = t.sections.projects.agroSoftDesktop.title;
        if (agroSoftDesktopSubtitle) agroSoftDesktopSubtitle.textContent = t.sections.projects.agroSoftDesktop.subtitle;
        if (agroSoftDesktopDesc) agroSoftDesktopDesc.textContent = t.sections.projects.agroSoftDesktop.description;

        // Update contact section
        const contactTitle = document.querySelector('#contacto .contact-title');
        const contactTexts = document.querySelectorAll('#contacto .contact-text');

        if (contactTitle) contactTitle.textContent = t.sections.contact.title;
        if (contactTexts.length >= 2) {
            contactTexts[0].textContent = t.sections.contact.subtitle;
            contactTexts[1].textContent = t.sections.contact.callToAction;
        }

        // Update stats section
        const statsElements = {
            experience: document.querySelector('.stat-card:nth-child(1) .stat-label'),
            testCoverage: document.querySelector('.stat-card:nth-child(2) .stat-label'),
            bugReduction: document.querySelector('.stat-card:nth-child(3) .stat-label'),
            qaEfficiency: document.querySelector('.stat-card:nth-child(4) .stat-label')
        };

        Object.entries(statsElements).forEach(([key, element]) => {
            if (element) element.textContent = t.sections.stats[key];
        });

        // Update footer
        const footerLogo = document.querySelector('.footer-logo');
        const footerText = document.querySelector('.footer-text');

        if (footerLogo) footerLogo.textContent = t.footer.company;
        if (footerText) footerText.textContent = `Â© ${new Date().getFullYear()} ${t.footer.company}. ${t.footer.rights}`;

    } catch (error) {
        console.error('Error al cambiar el idioma:', error);
    }
}

// Intersection Observer for fade-in animations
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
        }
    });
}, {
    threshold: 0.1
});

// Observe all sections and elements with fade-in class
document.querySelectorAll('section, .fade-in').forEach(element => {
    observer.observe(element);
}); 